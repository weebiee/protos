syntax = 'proto3';

service Evaluator {
  rpc GetScores(GetScoresRequest) returns (GetScoresResponse);
  rpc Heartbeat(HeartbeatRequest) returns (HeartbeatResponse);
}

message GetScoresRequest {
  repeated Phrase phrases = 1;
}

message GetScoresResponse {
  bool ok = 1;
  optional string err_msg = 2;
  repeated Score scores = 3;
}

message HeartbeatRequest {
}

message HeartbeatResponse {
  uint32 tasks = 1;
  uint32 free_vram = 2;
}

message Phrase {
  string content = 1;
}

message Score {
  float positivity = 1;
  float negativity = 2;
  float neutrality = 3;
}
